---
title: Mysql の低速クエリログで低速なクエリを見つける方法と、Galera DB レプリケーション設計方法が原因の可能性がある理由を説明します。
description: Galera DB は、セカンダリ・データベースへのデータのレプリケーションに、プライマリ・データベースよりも時間がかかる設計方法を備えています。 これらのイベントを mysql の遅いクエリログで見つける方法、および遅いクエリログにエントリが表示される理由と、おそらく将来それらを防ぐ方法を説明します。
kt: 13635
doc-type: video
activity: use
last-substantial-update: 2023-7-18
feature: Backend Development, Logs, Services
topic: Commerce, Development
role: Architect, Developer
level: Intermediate
source-git-commit: ae85993d98fb8620b763a212e5a2d7e53596870f
workflow-type: tm+mt
source-wordcount: '303'
ht-degree: 0%

---

# Galera DB レプリケーションと関連する MySQL の低速クエリについて説明します。

Galera クラスターは、パフォーマンスと拡張性に役立ちます。 セカンダリ・データベースを考慮する場合、データ・レプリケーションの実行方法がプライマリとは異なることを理解することが重要です。 プライマリデータベースは一括操作を実行できます。 すべてのセカンダリ・データベースに対してレプリケーションが発生すると、1 回に 1 回ずつアクションが実行されます。 例えば、削除に 67,000,000 個の項目が含まれる場合、セカンダリデータベースでは 1 つずつ発生します。 Mysql の低速クエリログを確認すると、このアクションには長い時間がかかる場合があります。 セカンダリ・データベースは一度に 1 つずつ実行しているので、同期しない理由の 1 つであり、パフォーマンスへの影響を検出できます。

解決策として、可能な限り大規模な操作をバッチ処理して、セカンダリ・データベースとプライマリの同期を維持します。 バッチ処理を行うことで、アクションをタイムリーに実行でき、パフォーマンスへの影響を最小限に抑えることができます。

## このビデオは誰のためのものですか？

- アーキテクト
- 開発者
- DevOps

## ビデオコンテンツ

- セカンダリデータベースへの Galera レプリケーション
- フロー制御の詳細
- mysql の低速クエリログでスレッド番号を検索中
- 一括実行はプライマリでのみ実行されます。 レプリケーションは 1 回に 1 回発生します
- 大規模なコミットをバッチ処理して、レプリケーションがプライマリに追いつくのを支援

>[!VIDEO](https://video.tv.adobe.com/v/3421688?learn=on)

## 役に立つリソース

- [Galera クラスター](https://galeracluster.com/)
